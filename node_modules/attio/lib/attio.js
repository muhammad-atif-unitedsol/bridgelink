#!/usr/bin/env node
import { readFileSync } from "fs";
import { dirname, join } from "path";
import { fileURLToPath } from "url";
import { Command } from "commander";
import { z } from "zod";
import { build } from "./commands/build.js";
import { dev } from "./commands/dev.js";
import { init } from "./commands/init.js";
import { login } from "./commands/login.js";
import { logout } from "./commands/logout.js";
import { logs } from "./commands/logs.js";
import { version } from "./commands/version/index.js";
import { whoami } from "./commands/whoami.js";
const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);
const packageJsonSchema = z.object({
    version: z.string(),
});
const packageJson = packageJsonSchema.parse(JSON.parse(readFileSync(join(__dirname, "../package.json"), "utf-8")));
const program = new Command();
program
    .name("attio")
    .description("CLI tool to create Attio apps")
    .version(packageJson.version)
    .addCommand(init)
    .addCommand(build)
    .addCommand(dev)
    .addCommand(version)
    .addCommand(login)
    .addCommand(logout)
    .addCommand(whoami)
    .addCommand(logs)
    .parse();
