import { Command } from "commander";
import { isErrored } from "@attio/fetchable-npm";
import { authenticator } from "../auth/auth.js";
import { printAuthenticationError } from "../print-errors.js";
export const login = new Command("login")
    .description("Authenticate with Attio")
    .action(async () => {
    const result = await authenticator.authenticate();
    if (isErrored(result)) {
        printAuthenticationError(result.error);
        process.exit(1);
    }
    process.stdout.write("ðŸ”“ Successfully authenticated.\n");
    process.exit(0);
});
