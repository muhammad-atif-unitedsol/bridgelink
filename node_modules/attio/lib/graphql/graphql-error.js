import { codeFrameColumns } from "@babel/code-frame";
export class GraphQLError extends Error {
    locations;
    source;
    filename;
    constructor(message, locations, source, filename) {
        super(message);
        this.locations = locations;
        this.source = source;
        this.filename = filename;
    }
    toString() {
        const { line, column } = this.locations[0];
        return `${this.message}\n\n${this.filename}:${this.locations[0].line}\n\n${codeFrameColumns(this.source, {
            start: { line, column },
        })}\n`;
    }
}
export function getLineAndColumn(source, location) {
    let line = 1;
    let column = 1;
    for (let i = 0; i < location.start; i++) {
        if (source[i] === "\n") {
            line++;
            column = 1;
        }
        else {
            column++;
        }
    }
    return { line, column };
}
