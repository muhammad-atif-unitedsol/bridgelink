import type { ArrayNode } from "./array-node";
import type { BaseNode } from "./base-node";
import type { StructNode } from "./struct-node";
import type { UnionNode } from "./union-node";
type Nudge<T, U> = T extends U ? T : never;
type ObjectKeyToString<T extends string | number | symbol> = T extends string ? T : T extends number ? `${T}` : never;
type PathToRecursive<TNode extends BaseNode, TRoot extends BaseNode, TDepth extends Array<null>> = TDepth["length"] extends 10 ? never : (TNode extends TRoot ? "" : never) | (TRoot extends ArrayNode<infer TArrayElement extends BaseNode> ? `${TDepth["length"] extends 0 ? "" : "."}${number}${PathToRecursive<TNode, TArrayElement, [
    ...TDepth,
    null
]>}` : never) | (TRoot extends StructNode<infer TProperties> ? {
    [TKey in keyof TProperties]: TProperties[TKey] extends BaseNode ? `${TDepth["length"] extends 0 ? "" : "."}${ObjectKeyToString<TKey>}${PathToRecursive<TNode, TProperties[TKey], [...TDepth, null]>}` : never;
}[keyof TProperties] : never) | (TRoot extends UnionNode<infer TChildNode extends BaseNode> ? TChildNode extends any ? PathToRecursive<TNode, TChildNode, [...TDepth, null]> : never : never);
type PathToUnionBranch<TNode extends BaseNode, TRoot extends BaseNode, TUnionDepth extends Array<null>> = TUnionDepth["length"] extends 10 ? never : TNode extends UnionNode<infer TChildNode extends BaseNode> ? PathToRecursive<TNode, TRoot, []> | (TChildNode extends any ? PathToUnionBranch<TChildNode, TRoot, [...TUnionDepth, null]> : never) : PathToRecursive<TNode, TRoot, []>;
/**
 * Returns all dot-separated paths which point to a node of the given type in the given
 * configuration schema.
 */
export type PathTo<TNode extends BaseNode, TRoot extends BaseNode> = Nudge<PathToUnionBranch<TNode, TRoot, []>, string>;
/**
 * Returns all dot-separated paths which point to a node in the given configuration schema.
 */
export type Path<TConfigSchema extends StructNode> = PathTo<BaseNode, TConfigSchema>;
export {};
//# sourceMappingURL=path.d.ts.map